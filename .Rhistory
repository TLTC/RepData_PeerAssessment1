?unzip
data<-read.csv(unz(temp,"activity.zip"))
?file
data<-read.csv(unz("~/activity.zip","activity.zip"))
getwd
getwd()
data<-read.csv(unz("activity.zip","activity.zip"))
data<-read.csv(unz("activity.zip","activity.csv"))
head(data)
names(data)
class(data$date)
table(data$date)
?aggregate
update.packages()
sum<-aggregate(data$steps,list(date=data$date),sum)
mean(sum$x)
aggregate(data$steps,list(date=data$date),sum)
sum
mean(sum$x)
mean(sum$X)
mean(sum$x)
class(sum$x)
class(sum)
mean(sum$x,na.rm=TRUE)
median(sum$x,na.rm=TRUE)
avg<-aggregate(data$steps,list(date=data$interval),mean,na.rm=TRUE)
avg
?plot
avg<-aggregate(data$steps,list(Interval=data$interval),mean,na.rm=TRUE)
plot(avg$Interval,avg$x,type="1")
plot(avg$Interval,avg$x,type="l")
?plot
plot(avg$Interval,avg$x,main="Average Daily Activity Pattern",type="l")
?plot
plot(avg$Interval,avg$x,main="Average Daily Activity Pattern",xlab="5-minute Intervals",ylab="Avg num of steps",type="l")
which.max(avg$x)
avg[which.max(avg$x),1]
sum(is.na(data$steps))
ndata<-read.csv(unz("activity.zip","activity.csv"))
test<-ndata[1:200,]
test<-ndata[1:500,]
tail(test)
sum(test$steps)
sum(test$steps,na.rm=TRUE)
test<-ndata[900:950,]
test
head(data)
dim(data)
test<-ndata[12000:12550,]
head(test)
tail(test)
sum(test$steps,na.rm=TRUE)
sum(is.na(test$steps))
test<-ndata[1:50,]
head(test)
test[is.na(test$steps)]<-1
test$steps[is.na(test$steps)]<-1
head(test)
head(avg)
avg<-aggregate(data$steps,list(interval=data$interval),mean,na.rm=TRUE)
merged<-merge(ndata,avg,all=TRUE)
head(merged)
tail(merged)
rm(test)
?which.na
test<-merged[1:10]
test<-merged[1:10,]
test
?grep
?if
?if()
length(merged)
length(merged$steps)
is.na(merged[1,2])
rm(list=ls(all=TRUE))
data<-read.csv(unz("activity.zip","activity.csv"))
avg<-aggregate(data$steps,list(Interval=data$interval),mean,na.rm=TRUE)
head(avg)
head(data)
merged<-merge(data,avg,all=TRUE)
head(merged)
data(1,1)
data[1,1]
greg(0,avg)
grep(0,avg)
grep(0,avg,value=TRUE)
grep(0,avg$interval,value=TRUE)
grep(0,avg$interval)
grep(0,avg$Interval)
class[avg$Interval]
classCavg$Interval)
class(avg$Interval)
grep(as.numeric(0),avg$Interval)
0
class(0)
grep(1,avg$Interval)
avg1<-avg
grep(1,as.numeric(avg$Interval)
grep(1,as.numeric(avg$Interval))
grep("[a-z]", letters)
grep(a, letters)
grep("a", letters)
grep("0",avg)
grep("1",avg)
grep("1",avg$Interval)
grep("0",avg$Interval)
grep("0",as.character(avg$Interval)
grep("0",as.character(avg$Interval))
class(avg$Interval)
grep("^0$",avg$Interval)
grep("^35$",avg$Interval)
grep("^10$",avg$Interval)
head(avg)
rm(merged)
head(data)
newData[i,1]<-avg[grep(paste("^",newData[i,3],"$",sep=""),avg$Interval),2]
newData<-data
head(newData)
newData[i,1]<-avg[grep(paste("^",newData[i,3],"$",sep=""),avg$Interval),2]
data[1,1]
paste("^",newData[i,3],"$",sep="")
paste("^","test","$",sep="")
1
test
"test"
newData[i,1]<-avg[grep(paste(""","^",newData[i,3],"$",""",sep=""),avg$Interval),2]
head(newData)
}
"test \"ok\""
<-"test \"ok\""
x<-"test \"ok\""
x
cat(x)
newData[i,1]<-avg[grep(paste("^",newData[i,3],"$",sep=""),avg$Interval),2]
search<-newData[i,3]
length(newData$steps)
length(newData)
}
test<-fucntion(){
test<-function(){
test()
source("test.r")
test()
rm(x)
source("testVlookup.r")
source("testVookup.r")
rm(test)
rm(i,searc)
rm(i,search)
source("testVookup.r")
look*
look()
head(newData)
head(avg)
rm(look)
rm(avg1)
newnew<newData
newnew<-newData
head(newnew)
newnew<-weekdays(newnew$date)
newnew$new<-weekdays(newnew$date)
newnew[new]<-weekdays(newnew$date)
newnew["new"]<-weekdays(newnew$date)
class(newnew$date)
newnew["new"]<-weekdays(as.POSIXlt(newnew$date))
head(newnew)
class(newnew$new)
newnew["new"]<-facotr(weekdays(as.POSIXlt(newnew$date)))
newnew["new"]<-factor(weekdays(as.POSIXlt(newnew$date)))
head(newnew)
class(newnew$new)
levels(newnew$new)
table(levels(newnew$new))
table(newnew$new)
newnew["new"]<-factor(weekdays(as.POSIXlt(newnew$date)),levels=c("Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"),labels=c("Weekday","Weekday","Weekday","Weekday","Weekday","Weekend","Weekend"))
head(newnew)
table(newnew$new)
avgwk<-aggregate(newData$steps,list(Interval=newData$interval,Week=newData$week),mean,na.rm=TRUE)
head(newnew)
avgwk<-aggregate(newnew$steps,list(Interval=newnew$interval,Week=newnew$new),mean,na.rm=TRUE)
head(avgwk)
head(avg)
table(avgwk)
summary(avgwk)
head(avgwk)
head(newData)
head(avgwk[avgwk$week="weekend",])
head(avgwk[avgwk$week=="weekend",])
head(avgwk[avgwk$Week=="weekend",])
head(avgwk[avgwk$Week=="Weekend",])
head(newnew)
table(newnew$new)
length(newnew)
length(newnew$x)
length(newnew$new)
head(newdData)
head(newData)
head(newnew)
newnew$new
weektest<-weekdays(as.POSIXlt(newData$date)
weektest<-weekdays(as.POSIXlt(newData$date))
head(weektest)
class(weektest)
weeksub<-gsub(c("Monday","Tuesday","Wednesday","Thursday","Friday"),"weekday",weektest)
head(weeksub)
tail(weektest)
tail(weeksub)
rm(weeksub)
weeksub<-chartr(c("Monday","Tuesday","Wednesday","Thursday","Friday"),"weekday",weektest)
tail(weeksub)
rm(weeksub)
unique(weektest)
class(weektest)
weeksub<-gsub("Monday|Tuesday|Wednesday|Thursday|Friday","weekday",weektest)
table(weeksub)
rm(avgwk)
factor(weeksub)
class(weeksub)
wf<-factor(weeksub)
table(wf)
class(wf)
